"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var canvas=document.getElementById("game"),context=canvas.getContext("2d"),tileCount=20,tileSize=canvas.width/tileCount-2,headX=10,headY=10,xVelocity=0,yVelocity=0,appleX=5,appleY=5,snakeParts=[],tailLength=0,then=0,elapsed=0;document.body.addEventListener("keydown",keyDown);var SnakePart=function e(t,a){_classCallCheck(this,e),this.x=t,this.y=a};function drawGame(e){var t=e-then;then=e,clearScreen(),changeSnakePosition(t),checkAppleCollision(),drawApple(),drawSnake(t),requestAnimationFrame(drawGame)}function clearScreen(){context.fillStyle="black",context.fillRect(0,0,canvas.clientWidth,canvas.clientHeight)}function drawSnake(e){elapsed+=e,context.fillStyle="orange",context.fillRect(headX*tileCount,headY*tileCount,tileSize,tileSize),context.fillStyle="green";for(var t=0;t<snakeParts.length;t++){var a=snakeParts[t];if(a.x===headX&&a.y===headY){console.log("game over");break}}1e3<elapsed&&(snakeParts.push(new SnakePart(headX,headY)),elapsed=0),snakeParts.length>tailLength&&snakeParts.shift()}function drawApple(){context.fillStyle="red",context.fillRect(appleX*tileCount,appleY*tileCount,tileSize,tileSize)}function changeSnakePosition(e){headX+=2*xVelocity*e*.001,headY+=2*yVelocity*e*.001}function checkAppleCollision(){console.log(headY,appleY),appleX<headX+1&&headX<appleX+1&&appleY<headY+1&&headY<appleY+1&&(console.log("collision"),appleX=Math.floor(Math.random()*tileCount),appleY=Math.floor(Math.random()*tileCount))}function keyDown(e){if(38==e.keyCode){if(1==yVelocity)return;xVelocity=0,yVelocity=-1}if(40==e.keyCode){if(-1==yVelocity)return;console.log(e.keyCode),xVelocity=0,yVelocity=1}if(37==e.keyCode){if(1==xVelocity)return;xVelocity=-1,yVelocity=0}if(39==e.keyCode){if(-1==xVelocity)return;xVelocity=1,yVelocity=0}}requestAnimationFrame(drawGame);
//# sourceMappingURL=index.min.js.map
